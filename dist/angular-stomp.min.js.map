{"version":3,"sources":["angular-stomp.js","../core/provider.js","../jspm_packages/npm/core-js@1.2.6/library/modules/$.js","../jspm_packages/npm/core-js@1.2.6/library/fn/object/define-property.js","../jspm_packages/npm/babel-runtime@5.8.34/core-js/object/define-property.js","../jspm_packages/npm/babel-runtime@5.8.34/helpers/create-class.js","../jspm_packages/npm/babel-runtime@5.8.34/helpers/class-call-check.js","../core/unSubscriber.js","../core/builder.js","../core/service.js","../core/stompService.js"],"names":["e","r","o","arguments","length","t","apply","this","n","declarative","deps","declare","executingRequire","execute","name","p","normalizedDeps","groupIndex","v","call","push","a","u","evaluated","d","splice","TypeError","i","s","l","x","dependencies","exports","importers","module","locked","setters","c","esModule","f","Error","__useDefault","id","__esModule","g","Object","getOwnPropertyDescriptor","h","hasOwnProperty","value","D","substr","y","Array","prototype","indexOf","m","defineProperty","get","System","_nodeRequire","require","resolve","process","@empty","register","registerDynamic","set","newModule","self","global","$__System","window","document","location","protocol","hostname","port","getPathVars","lastIndexOf","split","pop","join","isWindows","filename","dirname","_export","ngStompWebSocket","_createClass","_classCallCheck","ngstompProvider","_3","_","_2","settings","timeOut","heartbeat","outgoing","incoming","key","login","password","_url","url","clazz","settingsObject","boolean","debug","host","vhost","numberInSeconds","$q","$log","$rootScope","$timeout","Stomp","$__require","__define","define","undefined","$Object","create","getProto","getPrototypeOf","isEnum","propertyIsEnumerable","getDesc","setDesc","setDescs","defineProperties","getKeys","keys","getNames","getOwnPropertyNames","getSymbols","getOwnPropertySymbols","each","forEach","$","it","desc","default","_Object$defineProperty","target","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","instance","Unsubscriber","ngStomp","connections","_this","$$unSubscribeOf","topic","_this2","filter","queue","index","_this3","callback","header","headers","scope","UnSubscriber","angular","SubscribeBuilder","_b","subscribeTo","aCallback","aScope","json","connect","noop","and","subscribe","_a","$setConnection","stompClient","deferred","$digestStompAction","$reconnectAll","promiseResult","bodyInJson","then","$stompSubscribe","$stompUnSubscribe","data","_this4","sendDeffered","defer","send","JSON","stringify","promise","_this5","disconnectionPromise","disconnect","_this6","subscription","message","body","parse","connection","sub","$$addToConnectionQueue","$unRegisterScopeOnDestroy","unsubscribe","$$phase","$apply","over","client","isDefined","_this7","isFunction","$on","_this8","_this9","$$connectionEquality","c1","c2","ngstompService","$inject","ngStompService","_d","_c","provider","service","constant","factory"],"mappings":"AAAA,eACA,0BACA,0BAEC,SAASA,GAAG,QAASC,GAAED,EAAEC,EAAEC,GAAG,MAAO,KAAIC,UAAUC,OAAOC,EAAEC,MAAMC,KAAKJ,eAAgBK,GAAER,GAAGS,aAAY,EAAGC,KAAKT,EAAEU,QAAQT,IAAI,QAASG,GAAEL,EAAEC,EAAEI,EAAEH,GAAGM,EAAER,GAAGS,aAAY,EAAGC,KAAKT,EAAEW,iBAAiBP,EAAEQ,QAAQX,IAAI,QAASM,GAAER,EAAEC,GAAGA,EAAEa,KAAKd,EAAEA,IAAKe,KAAIA,EAAEf,GAAGC,GAAGA,EAAEe,eAAef,EAAES,KAAK,QAASR,GAAEF,EAAEC,GAAG,GAAGA,EAAED,EAAEiB,YAAYhB,EAAED,EAAEiB,gBAAgB,IAAIC,EAAEC,KAAKlB,EAAED,EAAEiB,YAAYjB,GAAG,CAACC,EAAED,EAAEiB,YAAYG,KAAKpB,EAAG,KAAI,GAAIK,GAAE,EAAEG,EAAER,EAAEgB,eAAeZ,OAAOI,EAAEH,EAAEA,IAAI,CAAC,GAAIgB,GAAErB,EAAEgB,eAAeX,GAAGiB,EAAEP,EAAEM,EAAG,IAAGC,IAAIA,EAAEC,UAAU,CAAC,GAAIC,GAAExB,EAAEiB,YAAYK,EAAEb,aAAaT,EAAES,YAAa,IAAG,SAASa,EAAEL,YAAYK,EAAEL,WAAWO,EAAE,CAAC,GAAG,SAASF,EAAEL,aAAahB,EAAEqB,EAAEL,YAAYQ,OAAOP,EAAEC,KAAKlB,EAAEqB,EAAEL,YAAYK,GAAG,GAAG,GAAGrB,EAAEqB,EAAEL,YAAYb,QAAQ,KAAM,IAAIsB,WAAU,kCAAmCJ,GAAEL,WAAWO,EAAEtB,EAAEoB,EAAErB,MAAM,QAASoB,GAAErB,GAAG,GAAIC,GAAEc,EAAEf,EAAGC,GAAEgB,WAAW,CAAE,IAAIZ,KAAKH,GAAED,EAAEI,EAAG,KAAI,GAAIG,KAAIP,EAAEQ,aAAaJ,EAAED,OAAO,EAAEiB,EAAEhB,EAAED,OAAO,EAAEiB,GAAG,EAAEA,IAAI,CAAC,IAAI,GAAIC,GAAEjB,EAAEgB,GAAGM,EAAE,EAAEA,EAAEL,EAAElB,OAAOuB,IAAI,CAAC,GAAIC,GAAEN,EAAEK,EAAGnB,GAAEgB,EAAEI,GAAGC,EAAED,GAAGpB,GAAGA,GAAG,QAASc,GAAEtB,GAAG,MAAO8B,GAAE9B,KAAK8B,EAAE9B,IAAIc,KAAKd,EAAE+B,gBAAgBC,WAAWC,eAAe,QAAST,GAAEvB,GAAG,IAAIA,EAAEiC,OAAO,CAAC,GAAI7B,GAAEJ,EAAEiC,OAAOZ,EAAErB,EAAEa,MAAMN,EAAEP,EAAEiC,OAAOF,QAAQ9B,EAAED,EAAEU,QAAQQ,KAAKnB,EAAE,SAASA,EAAEC,GAAG,GAAGI,EAAE8B,QAAO,EAAG,gBAAiBnC,GAAE,IAAI,GAAIE,KAAKF,GAAEQ,EAAEN,GAAGF,EAAEE,OAAQM,GAAER,GAAGC,CAAE,KAAI,GAAIoB,GAAE,EAAEC,EAAEjB,EAAE4B,UAAU7B,OAAOkB,EAAED,EAAEA,IAAI,CAAC,GAAIG,GAAEnB,EAAE4B,UAAUZ,EAAG,KAAIG,EAAEW,OAAO,IAAI,GAAIR,GAAE,EAAEA,EAAEH,EAAEO,aAAa3B,SAASuB,EAAEH,EAAEO,aAAaJ,KAAKtB,GAAGmB,EAAEY,QAAQT,GAAGnB,GAAG,MAAOH,GAAE8B,QAAO,EAAGlC,GAAGA,EAAEa,KAAMT,GAAE+B,QAAQlC,EAAEkC,QAAQ/B,EAAEQ,QAAQX,EAAEW,OAAQ,KAAI,GAAIQ,GAAE,EAAEM,EAAE1B,EAAEe,eAAeZ,OAAOuB,EAAEN,EAAEA,IAAI,CAAC,GAAIQ,GAAED,EAAE3B,EAAEe,eAAeK,GAAGgB,EAAEtB,EAAEa,GAAGV,EAAEY,EAAEF,EAAGV,GAAEW,EAAEX,EAAEc,QAAQK,IAAIA,EAAE5B,YAAYoB,EAAEQ,EAAEC,SAASD,GAAGb,EAAEa,GAAGnB,EAAEmB,EAAEH,OAAOL,EAAEX,EAAEc,SAASH,EAAEU,EAAEX,GAAGV,GAAGA,EAAEe,WAAWf,EAAEe,UAAUb,KAAKf,GAAGA,EAAE0B,aAAaX,KAAKF,IAAIb,EAAE0B,aAAaX,KAAK,MAAMf,EAAE+B,QAAQf,IAAIhB,EAAE+B,QAAQf,GAAGQ,KAAK,QAASF,GAAE3B,GAAG,GAAIC,GAAEI,EAAEU,EAAEf,EAAG,IAAGK,EAAEA,EAAEI,YAAY4B,EAAErC,MAAMK,EAAEkB,WAAWM,EAAExB,GAAGJ,EAAEI,EAAE6B,OAAOF,YAAa,IAAG/B,EAAEsC,EAAEvC,IAAIC,EAAE,KAAM,IAAIuC,OAAM,6BAA6BxC,EAAE,IAAK,SAAQK,GAAGA,EAAEI,cAAcR,GAAGA,EAAEwC,aAAaxC,EAAE,WAAWA,EAAE,QAAS4B,GAAE5B,GAAG,IAAIA,EAAEiC,OAAO,CAAC,GAAI7B,MAAKG,EAAEP,EAAEiC,QAAQF,QAAQ3B,EAAEqC,GAAGzC,EAAEa,KAAM,KAAIb,EAAEW,iBAAiB,IAAI,GAAIV,GAAE,EAAEmB,EAAEpB,EAAEe,eAAeZ,OAAOiB,EAAEnB,EAAEA,IAAI,CAAC,GAAIoB,GAAErB,EAAEe,eAAed,GAAGsB,EAAET,EAAEO,EAAGE,IAAGK,EAAEL,GAAGvB,EAAEsB,WAAU,CAAG,IAAIc,GAAEpC,EAAEY,QAAQM,KAAKnB,EAAE,SAASA,GAAG,IAAI,GAAIK,GAAE,EAAEG,EAAEP,EAAES,KAAKN,OAAOI,EAAEH,EAAEA,IAAI,GAAGJ,EAAES,KAAKL,IAAIL,EAAE,MAAO2B,GAAE1B,EAAEe,eAAeX,GAAI,MAAM,IAAIqB,WAAU,UAAU1B,EAAE,mCAAmCK,EAAEG,EAAG6B,KAAI7B,EAAEwB,QAAQK,GAAGhC,EAAEG,EAAEwB,QAAQ3B,GAAGA,EAAEsC,WAAW1C,EAAEqC,SAASjC,EAAEJ,EAAEqC,SAASV,EAAEvB,IAAI,QAASuB,GAAE3B,GAAG,GAAGA,IAAID,EAAE,MAAOC,EAAE,IAAII,KAAK,IAAG,gBAAiBJ,IAAG,kBAAmBA,GAAE,GAAG2C,EAAE,CAAC,GAAIpC,EAAE,KAAI,GAAIN,KAAKD,IAAGO,EAAEqC,OAAOC,yBAAyB7C,EAAEC,KAAK6C,EAAE1C,EAAEH,EAAEM,OAAO,CAAC,GAAIa,GAAEpB,GAAGA,EAAE+C,cAAe,KAAI,GAAI9C,KAAKD,KAAIoB,GAAGpB,EAAE+C,eAAe9C,MAAMG,EAAEH,GAAGD,EAAEC,IAAI,MAAOG,GAAE,WAAWJ,EAAE8C,EAAE1C,EAAE,gBAAgB4C,OAAM,IAAK5C,EAAE,QAASgC,GAAEpC,EAAEI,GAAG,GAAIG,GAAEO,EAAEd,EAAG,IAAGO,IAAIA,EAAEe,WAAWf,EAAEC,YAAY,CAACJ,EAAEe,KAAKnB,EAAG,KAAI,GAAIC,GAAE,EAAEmB,EAAEb,EAAEQ,eAAeZ,OAAOiB,EAAEnB,EAAEA,IAAI,CAAC,GAAIoB,GAAEd,EAAEQ,eAAed,EAAG,KAAIgB,EAAEC,KAAKd,EAAEiB,KAAKP,EAAEO,GAAGe,EAAEf,EAAEjB,GAAGkC,EAAEjB,IAAId,EAAEe,YAAYf,EAAEe,WAAU,EAAGf,EAAE0B,OAAOrB,QAAQM,KAAKnB,KAAK,QAASuC,GAAEvC,GAAG,GAAGkD,EAAElD,GAAG,MAAOkD,GAAElD,EAAG,IAAG,UAAUA,EAAEmD,OAAO,EAAE,GAAG,MAAOC,GAAEpD,EAAEmD,OAAO,GAAI,IAAIlD,GAAEc,EAAEf,EAAG,KAAIC,EAAE,KAAK,UAAUD,EAAE,eAAgB,OAAOqB,GAAErB,GAAGqC,EAAErC,MAAMe,EAAEf,GAAG,OAAOC,EAAEQ,aAAasC,EAAE9C,EAAEiC,OAAOF,QAAQ,cAAciB,OAAM,IAAKC,EAAElD,GAAGC,EAAEQ,YAAYR,EAAEiC,OAAOF,QAAQ/B,EAAEqC,SAAS,GAAIvB,MAAKG,EAAEmC,MAAMC,UAAUC,SAAS,SAASvD,GAAG,IAAI,GAAIC,GAAE,EAAEI,EAAEE,KAAKH,OAAOC,EAAEJ,EAAEA,IAAI,GAAGM,KAAKN,KAAKD,EAAE,MAAOC,EAAE,OAAM,IAAI2C,GAAE,CAAG,KAAIC,OAAOC,0BAA0BzB,EAAE,GAAG,KAAK,MAAMmC,GAAGZ,GAAE,EAAG,GAAIG,IAAG,WAAW,IAAIF,OAAOY,kBAAkB,UAAUV,EAAEF,OAAOY,gBAAgB,MAAMzD,GAAG+C,EAAE,SAAS/C,EAAEC,EAAEI,GAAG,IAAIL,EAAEC,GAAGI,EAAE4C,OAAO5C,EAAEqD,IAAIvC,KAAKnB,GAAG,MAAMQ,SAAU,IAAIsB,MAAKsB,EAAE,mBAAoBO,SAAQA,OAAOC,cAAc,mBAAoBC,UAASA,QAAQC,SAAS,mBAAoBC,UAASF,QAAQX,GAAGc,YAAa,OAAO,UAAShE,EAAEQ,EAAEN,GAAG,MAAO,UAASmB,GAAGA,EAAE,SAASA,GAAG,IAAI,GAAIC,IAAGsC,aAAaR,EAAEa,SAAShE,EAAEiE,gBAAgB7D,EAAEqD,IAAInB,EAAE4B,IAAI,SAASnE,EAAEC,GAAGiD,EAAElD,GAAGC,GAAGmE,UAAU,SAASpE,GAAG,MAAOA,KAAIwB,EAAE,EAAEA,EAAEhB,EAAEJ,OAAOoB,KAAI,SAAUxB,EAAEC,GAAGA,GAAGA,EAAE0C,WAAWO,EAAElD,GAAGC,EAAEiD,EAAElD,GAAG4B,EAAE3B,KAAKO,EAAEgB,GAAGrB,UAAUqB,GAAItB,GAAEoB,EAAG,IAAIK,GAAEY,EAAEvC,EAAE,GAAI,IAAGA,EAAEI,OAAO,EAAE,IAAI,GAAIoB,GAAE,EAAEA,EAAExB,EAAEI,OAAOoB,IAAIe,EAAEvC,EAAEwB,GAAI,OAAOG,GAAEc,aAAad,EAAE,WAAWA,OAAO,mBAAoB0C,MAAKA,KAAKC,SAE3gI,MAAO,IAAI,KAAM,SAASC,IAE3B,WAAW,GAAIlE,GAAEkE,CAAU,IAAG,mBAAoBC,SAAQ,mBAAoBC,WAAUD,OAAOE,SAAS,GAAI9C,GAAE8C,SAASC,SAAS,KAAKD,SAASE,UAAUF,SAASG,KAAK,IAAIH,SAASG,KAAK,GAAIxE,GAAE8D,IAAI,gBAAgB9D,EAAE+D,WAAWU,YAAY,SAASzE,GAAG,GAAIG,GAAEN,EAAEG,EAAE0E,YAAY,IAAKvE,GAAE,IAAIN,EAAEG,EAAE8C,OAAO,EAAEjD,GAAGG,CAAE,IAAIL,GAAEQ,EAAEwE,MAAM,IAAK,OAAOhF,GAAEiF,MAAMjF,EAAEA,EAAEkF,KAAK,KAAK,YAAY1E,EAAE2C,OAAO,EAAE,IAAI3C,EAAEA,EAAE2C,OAAO,GAAGnD,EAAEA,EAAEmD,OAAO,GAAGgC,YAAY3E,EAAEA,EAAE2C,OAAO,GAAGnD,EAAEA,EAAEmD,OAAO,KAAKvB,GAAGpB,EAAE2C,OAAO,EAAEvB,EAAExB,UAAUwB,IAAIpB,EAAEA,EAAE2C,OAAOvB,EAAExB,QAAQJ,EAAEA,EAAEmD,OAAOvB,EAAExB,UAAUgF,SAAS5E,EAAE6E,QAAQrF,UACzhBuE,EAAUN,SAAS,KAAM,IAAK,IAAK,KAAM,SAAUqB,GAC/C,GAAIC,GAAkBC,EAAcC,ECRnBC,CDUjB,QACItD,SAAU,SAAUuD,GAChBJ,EAAmBI,EAAG,YACvB,SAAUC,GACTJ,EAAeI,EAAE,YAClB,SAAUC,GACTJ,EAAkBI,EAAG,aAEzBhF,QAAS,WACL,YCnBS6E,GAAe,WAErB,QAFMA,KDuBDD,EAAgBlF,KCvBfmF,GAGbnF,KAAKuF,UACDC,QAAU,IACVC,WACIC,SAAW,IACXC,SAAW,MDqFX,MA1DAV,GClCKE,IDmCDS,IAAK,aACLlD,MCxBN,SAACmD,EAAOC,GAGd,MAFA9F,MAAKuF,SAASM,MAAQA,EACtB7F,KAAKuF,SAASO,SAAWA,EAClB9F,QD2BK4F,IAAK,MACLlD,MCzBb,SAACqD,GAEA,MADA/F,MAAKuF,SAASS,IAAMD,EACb/F,QD4BK4F,IAAK,QACLlD,MC1BX,SAACuD,GAEF,MADAjG,MAAKuF,SAAQ,SAASU,EACfjG,QD6BK4F,IAAK,UACLlD,MC3BT,SAACwD,GAEJ,MADAlG,MAAKuF,SAAWW,EACTlG,QD8BK4F,IAAK,QACLlD,MC5BX,SAACyD,GAEF,MADAnG,MAAKuF,SAASa,MAAQD,EACfnG,QD+BK4F,IAAK,QACLlD,MC7BX,SAAC2D,GAEF,MADArG,MAAKuF,SAASe,MAAQD,EACfrG,QDgCK4F,IAAK,iBACLlD,MC9BF,SAAC6D,GAEX,MADAvG,MAAKuF,SAASC,QAA4B,IAAlBe,EACjBvG,QDiCK4F,IAAK,YACLlD,MC/BP,SAACgD,EAAUC,GAGhB,MAFA3F,MAAKuF,SAASE,UAAUC,SAAWA,EACnC1F,KAAKuF,SAASE,UAAUE,SAAWA,EAC5B3F,QDkCK4F,IAAK,OACLlD,OC/BZ,KAAA,OAAC,aAAU,WAAY,QAAU,SAAO8D,EAAAC,EAAAC,EAAAC,EAAAC,GACxC,UACA,OAAO,IAAI5B,GAAiBhF,KAAKuF,SAAUiB,EAAIC,EAAMC,EAAYC,EAAUC,QAzD9DzB,KD+FTJ,EAAQ,UC/FCI,OCFrBnB,EAAQL,gBAAkB,QAAS,EAAM,SAASkD,EAAYpF,EAASE,GACnE,GAAIoC,GAAS/D,KAAM8G,EAAW/C,EAAKgD,MACnChD,GAAKgD,OAAWC,MADpB,IAAIC,GAAU3E,MAAV,OACJX,GAAKF,SACHyF,OAAYD,EAAMC,OAClBC,SAAYF,EAAMG,eAClBC,UAAaC,qBACbC,QAAYN,EAAM1E,yBAClBiF,QAAYP,EAAM/D,eAClBuE,SAAYR,EAAMS,iBAClBC,QAAYV,EAAMW,KAClBC,SAAYZ,EAAMa,oBAClBC,WAAYd,EAAMe,sBAClBC,QAAaC,SAZfnE,EAAKgD,OAAWD,EACLnF,EAAKF,UCDhBuC,EAAQL,gBAAkB,KAAM,MAAM,EAAM,SAASkD,EAAYpF,EAASE,GACtE,GAAIoC,GAAS/D,KAAM8G,EAAW/C,EAAKgD,MACnChD,GAAKgD,OAAWC,MADpB,IAAImB,GADJtB,EAAW,IACP,OACJlF,GAAKF,QAAY,SAAwB2G,EAAIxC,EAAKyC,GAChD,MAAOF,GAAAX,QAAUY,EAAIxC,EAAKyC,IAH5BtE,EAAKgD,OAAWD,EACLnF,EAAKF,UCDhBuC,EAAQL,gBAAkB,KAAM,MAAM,EAAM,SAASkD,EAAYpF,EAASE,GACtE,GAAIoC,GAAS/D,KAAM8G,EAAW/C,EAAKgD,MAAnC,OACAhD,GAAKgD,OAAWC,OADpBrF,EAAKF,SAAc6G,UADnBzB,EAAW,KACyEzE,YAAY,GADhG2B,EAAKgD,OAAWD,EACLnF,EAAKF,UCDhBuC,EAAQL,gBAAkB,KAAM,MAAM,EAAM,SAASkD,EAAYpF,EAASE,GLsJxE,YKrJE,IAAIoC,GAAS/D,KAAM8G,EAAW/C,EAAKgD,MACnChD,GAAKgD,OAAWC,MAApB,IAAIuB,GAFJ1B,EAAW,KAE+D,UADtE,OAEJpF,GAAQ,WAAc,WACpB,QAASiG,GAAiBc,EAAQC,GAChC,IAAS,GAAArH,GAAI,EAAGA,EAAIqH,EAAI5I,OAAUuB,IAAK,CACrC,GAAIsH,GAAaD,EAAMrH,EACvBsH,GAASC,WAAeD,EAASC,aAAgB,EACjDD,EAASE,cAAiB,EACtB,SAAWF,KACbA,EAASG,UAAa,GAAIN,EACLC,EAAQE,EAAS9C,IAAO8C,IAEnD,MACO,UAASI,EAAaC,EAAYC,GAIK,MAHxCD,IACFrB,EAAiBoB,EAAU/F,UAAagG,GACtCC,GACFtB,EAAiBoB,EAAaE,GACzBF,MAGXrH,EAAMW,YAAe,EAtBrB2B,EAAKgD,OAAWD,EACLnF,EAAKF,UCDhBuC,EAAQL,gBAAkB,QAAS,EAAM,SAASkD,EAAYpF,EAASE,GNqLrE,YMpLE,IAAIoC,GAAS/D,KAAM8G,EAAW/C,EAAKgD,MAAnC,OACAhD,GAAKgD,OAAWC,OACpBvF,EAAQ,WAAa,SAAUwH,EAAUH,GACvC,KAAMG,YAAoBH,IACxB,KAAM,IAAI3H,WAAU,sCAIxBM,EAAMW,YAAe,EATrB2B,EAAKgD,OAAWD,EACLnF,EAAKF,UNmMhBuC,EAAUN,SAAS,KAAM,IAAK,KAAM,SAAUqB,GAC1C,GAAIE,GAAcC,EOjMDgE,CPmMjB,QACIrH,SAAU,SAAUwD,GAChBJ,EAAeI,EAAE,YAClB,SAAUC,GACTJ,EAAkBI,EAAG,aAEzBhF,QAAS,WAKL,YO9MS4I,GAAY,WAElB,QAFMA,GAELC,EAASC,GPgNLlE,EAAgBlF,KOlNfkJ,GAGblJ,KAAKmJ,QAAUA,EACfnJ,KAAKoJ,YAAcA,EPmQX,MA/CAnE,GOxNKiE,IPyNDtD,IAAK,iBACLlD,MOnNF,WPoNM,GAAI2G,GAAQrJ,IOnN5BA,MAAKoJ,YAAYlB,QAAQ,SAAApG,GPsNL,MOtNUuH,GAAKC,gBAAgBxH,KACnD9B,KAAKoJ,kBP0NOxD,IAAK,gBACLlD,MOxNH,SAAC6G,GPyNM,GAAIC,GAASxJ,IOxN7BA,MAAKoJ,YACAK,OAAO,SAAA3H,GP0NQ,MO1NHA,GAAEyH,QAAUA,GAASzH,EAAE4H,QAAUH,IAC7CrB,QAAQ,SAAApG,GP2NO,MO3NF0H,GAAKF,gBAAgBxH,KAEvC9B,KAAKoJ,YAAcpJ,KAAKoJ,YAAYK,OAAO,SAAA3H,GP6NvB,QO7N+BA,EAAE4H,QAAUH,GAASzH,EAAEyH,QAAUA,QPiOxE3D,IAAK,iBACLlD,MO/NF,SAACiH,GPgOK,GAAIC,GAAS5J,IO/N7BA,MAAKoJ,YACAK,OAAO,SAAA3H,GPiOQ,MOjOHA,GAAE6H,QAAUA,IACxBzB,QAAQ,SAAApG,GPkOO,MOlOF8H,GAAKN,gBAAgBxH,KAEvC9B,KAAKoJ,YAAcpJ,KAAKoJ,YAAYK,OAAO,SAAA3H,GPoOvB,MOpO4BA,GAAE6H,QAAUA,OPwOhD/D,IAAK,kBACLlD,MOtOD,SAACZ,GACZ9B,KAAKmJ,QAAQG,iBAAkBI,MAAO5H,EAAEyH,MAAOM,SAAU/H,EAAE+H,SAAUC,OAAQhI,EAAEiI,QAASC,MAAOlI,EAAEkI,YA7BpFd,KP0QTnE,EAAQ,UO1QCmE,OP8QrBlF,EAAUN,SAAS,KAAM,IAAK,IAAK,IAAK,KAAM,SAAUqB,GACpD,GAAIE,GAAcC,EAAiB+E,EAAcC,EQ7QhCC,CR+QjB,QACItI,SAAU,SAAUwD,GAChBJ,EAAeI,EAAE,YAClB,SAAUC,GACTJ,EAAkBI,EAAG,YACtB,SAAUF,GACT6E,EAAe7E,EAAG,YACnB,SAAUgF,GACTF,EAAUE,EAAG,aAEjB9J,QAAS,WAIL,YQ7RS6J,GAAgB,WAGtB,QAHMA,GAGLhB,EAASI,GRiSLrE,EAAgBlF,KQpSfmK,GAIbnK,KAAKmJ,QAAUA,EACfnJ,KAAKoJ,eAELpJ,KAAKqK,YAAYd,GRgWT,MA3DAtE,GQ5SKkF,IR6SDvE,IAAK,WACLlD,MQpSR,SAAC4H,GAEL,MADAtK,MAAKsK,UAAYA,EACVtK,QRuSK4F,IAAK,cACLlD,MQrSL,SAACqH,GAER,MADA/J,MAAK+J,QAAUA,EACR/J,QRwSK4F,IAAK,SACLlD,MQtSV,SAAC6H,GAEH,MADAvK,MAAKgK,MAAQO,EACNvK,QRySK4F,IAAK,iBACLlD,MQvSF,WAEV,MADA1C,MAAKwK,MAAO,EACLxK,QR0SK4F,IAAK,QACLlD,MQxSX,WACD,MAAO1C,MAAKyK,aR2SA7E,IAAK,cACLlD,MQzSL,SAAC6G,GAOR,MANAvJ,MAAKuJ,MAAQA,EACbvJ,KAAKsK,UAAYJ,EAAQQ,KACzB1K,KAAK+J,WACL/J,KAAKgK,SACLhK,KAAKwK,MAAO,EAELxK,QR4SK4F,IAAK,UACLlD,MQ1ST,WR2Sa,GAAI2G,GAAQrJ,IQxS5B,OAFAA,MAAK2K,MACL3K,KAAKoJ,YAAYlB,QAAQ,SAAApG,GR6SL,MQ7SUuH,GAAKF,QAAQyB,UAAU9I,EAAEyH,MAAOzH,EAAE+H,SAAU/H,EAAEiI,QAASjI,EAAEkI,MAAOlI,EAAE0I,QACzF,GAAIP,GAAajK,KAAKmJ,QAASnJ,KAAKoJ,gBRiT/BxD,IAAK,MACLlD,MQ/Sb,WAEC,MADA1C,MAAKoJ,YAAYvI,MAAM0I,MAAQvJ,KAAKuJ,MAAOM,SAAW7J,KAAKsK,UAAWP,QAAU/J,KAAK+J,QAASC,MAAQhK,KAAKgK,MAAOQ,KAAOxK,KAAKwK,KAAMb,MAAQ3J,KAAKoJ,YAAYvJ,OAAO,IAC7JG,SApDMmK,KR0WTpF,EAAQ,UQ1WCoF,OR8WrBnG,EAAUN,SAAS,KAAM,IAAK,IAAK,IAAK,KAAM,SAAUqB,GACpD,GAAIE,GAAcC,EAAiBiF,EAAkBD,ES/WpClF,CTiXjB,QACInD,SAAU,SAAUwD,GAChBJ,EAAeI,EAAE,YAClB,SAAUC,GACTJ,EAAkBI,EAAG,YACtB,SAAUuF,GACTV,EAAmBU,EAAG,YACvB,SAAUT,GACTF,EAAUE,EAAG,aAEjB9J,QAAS,WAIL,YS/XS0E,GAAgB,WAGtB,QAHMA,GAGLO,EAAUiB,EAAIC,EAAMC,EAAYC,EAAUC,GTmYtC1B,EAAgBlF,KStYfgF,GAIbhF,KAAKuF,SAAWA,EAChBvF,KAAKwG,GAAKA,EACVxG,KAAK0G,WAAaA,EAClB1G,KAAKyG,KAAOA,EACZzG,KAAK4G,MAAQA,EACb5G,KAAK2G,SAAWA,EAChB3G,KAAKoJ,eAELpJ,KAAKyK,UTijBG,MA1KAxF,GSnZKD,IToZDY,IAAK,UACLlD,MStYT,WTuYa,GAAI2G,GAAQrJ,IStX5B,OAhBAA,MAAK8K,iBACL9K,KAAK+K,YAAYN,QACbzK,KAAKuF,SAASM,MACd7F,KAAKuF,SAASO,SACd,WACIuD,EAAK2B,SAASzH,UACd8F,EAAK4B,sBAET,WACI5B,EAAK9D,SAASC,SAAW,GAAK6D,EAAK1C,SAAS,WACxC0C,EAAKoB,UACLpB,EAAK6B,iBACN7B,EAAK9D,SAASC,UAErBxF,KAAKuF,SAASe,OAEXtG,KAAKmL,iBTqYAvF,IAAK,YACLlD,MSnYP,SAACsD,EAAK6D,EAAUC,EAAaE,GAAPhD,SAAN8C,IAAAA,KTsYL,IAAIN,GAASxJ,KStYYoL,EAAUxL,UAAAC,QAAA,GAAAmH,SAAApH,UAAA,IAAG,EAAKA,UAAA,EAI3D,OAHAI,MAAKmL,cAAcE,KAAK,WACpB7B,EAAK8B,gBAAgBtF,EAAK6D,EAAUC,EAAQE,EAAOoB,KAEhDpL,QT4YK4F,IAAK,cACLlD,MS1YL,SAAC6G,GACR,MAAO,IAAIY,GAAiBnK,KAAMuJ,MT+YtB3D,IAAK,cACLlD,MS5YL,SAACsD,GT6YQ,GAAI4D,GAAS5J,IS3Y7B,OADAA,MAAKmL,cAAcE,KAAK,WT+YJ,MS/YUzB,GAAK2B,kBAAkBvF,KAC9ChG,QTmZK4F,IAAK,OACLlD,MSjZZ,SAACgH,EAAO8B,GTkZQ,GAAIC,GAASzL,KSlZf8J,EAAMlK,UAAAC,QAAA,GAAAmH,SAAApH,UAAA,MAAKA,UAAA,GACrB8L,EAAe1L,KAAKwG,GAAGmF,OAO3B,OALA3L,MAAKmL,cAAcE,KAAK,WACpBI,EAAKV,YAAYa,KAAKlC,EAAOI,EAAQ+B,KAAKC,UAAUN,IACpDE,EAAanI,YAGVmI,EAAaK,WTwZRnG,IAAK,aACLlD,MStZN,WTuZU,GAAIsJ,GAAShM,KStZzBiM,EAAuBjM,KAAKwG,GAAGmF,OAMnC,OALA3L,MAAK+K,YAAYmB,WAAW,WACxBD,EAAqB1I,UACrByI,EAAKf,uBAGFgB,EAAqBF,WT2ZhBnG,IAAK,kBACLlD,MSzZD,SAACgH,EAAOG,EAAUC,EAAQE,EAAOoB,GT0Z5B,GAAIe,GAASnM,KSzZzBoM,EAAepM,KAAK+K,YAAYH,UAAUlB,EAAO,SAAC2C,GAC9CjB,IACAiB,EAAQC,KAAOT,KAAKU,MAAMF,EAAQC,OACtCzC,EAASwC,GACTF,EAAKlB,sBACNnB,GAEC0C,GAAe9C,MAAQA,EAAO+C,IAAML,EAAcvC,SAAWA,EAAUC,OAASA,EAAQE,MAAQA,EAAOQ,KAAOY,EAClHpL,MAAK0M,uBAAuBF,GAC5BxM,KAAK2M,0BAA0BH,MT6ZnB5G,IAAK,oBACLlD,MS3ZC,SAACgH,GACd1J,KAAKoJ,YACAK,OAAO,SAAA3H,GT2ZQ,MS3ZHA,GAAE4H,QAAUA,IACxBxB,QAAQ,SAACpG,GT4ZM,MS5ZAA,GAAE2K,IAAIG,gBAE1B5M,KAAKoJ,YAAcpJ,KAAKoJ,YAAYK,OAAO,SAAA3H,GT8ZvB,MS9Z4BA,GAAE4H,OAASA,OTka/C9D,IAAK,qBACLlD,MShaE,YACb1C,KAAK0G,WAAWmG,SAAW7M,KAAK0G,WAAWoG,YTmahClH,IAAK,iBACLlD,MSjaF,WACV1C,KAAK+K,YAAc/K,KAAKuF,SAAQ,SAASvF,KAAK4G,MAAMmG,KAAK,GAAI/M,MAAKuF,SAAQ,SAAOvF,KAAKuF,SAASS,MAAQhG,KAAK4G,MAAMoG,OAAOhN,KAAKuF,SAASS,KACvIhG,KAAK+K,YAAY3E,MAAQpG,KAAMuF,SAASa,MAASpG,KAAKyG,KAAKL,MAAQ8D,EAAQQ,KACvER,EAAQ+C,UAAUjN,KAAKuF,SAASE,aAChCzF,KAAK+K,YAAYtF,UAAUC,SAAW1F,KAAKuF,SAASE,UAAUC,SAC9D1F,KAAK+K,YAAYtF,UAAUE,SAAW3F,KAAKuF,SAASE,UAAUE,UAElE3F,KAAKgL,SAAWhL,KAAKwG,GAAGmF,QACxB3L,KAAKmL,cAAgBnL,KAAKgL,SAASe,WToavBnG,IAAK,4BACLlD,MSlaS,SAAC8J,GTmaN,GAAIU,GAASlN,ISlaJgH,UAArBwF,EAAWxC,OAAuBE,EAAQiD,WAAWX,EAAWxC,MAAMoD,MACtEZ,EAAWxC,MAAMoD,IAAI,WAAY,WToajB,MSpauBF,GAAK5D,gBAAgBkD,QTwapD5G,IAAK,gBACLlD,MStaH,WTuaO,GAAI2K,GAASrN,KStazBoJ,EAAcpJ,KAAKoJ,WACvBpJ,MAAKoJ,eAELA,EAAYlB,QAAQ,SAAApG,GTyaA,MSzaKuL,GAAKzC,UAAU9I,EAAE4H,MAAO5H,EAAE+H,SAAU/H,EAAEgI,OAAQhI,EAAEkI,MAAOlI,EAAE0I,WT6atE5E,IAAK,kBACLlD,MS3aD,SAAC8J,GT4aI,GAAIc,GAAStN,IS3a7BA,MAAKoJ,YACAK,OAAO,SAAA3H,GT6aQ,MS7aHwL,GAAKC,qBAAqBzL,EAAG0K,KACzCtE,QAAQ,SAAApG,GT8aO,MS9aFA,GAAE2K,IAAIG,gBAExB5M,KAAKoJ,YAAcpJ,KAAKoJ,YAAYK,OAAO,SAAA3H,GTgbvB,OShb6BwL,EAAKC,qBAAqBzL,EAAG0K,QToblE5G,IAAK,yBACLlD,MSlbM,SAAC8J,GACnBxM,KAAKoJ,YAAYvI,KAAK2L,MTqbV5G,IAAK,uBACLlD,MSnbI,SAAC8K,EAAIC,GACrB,MAAOD,GAAG9D,QAAU+D,EAAG/D,OAAS8D,EAAG3D,WAAa4D,EAAG5D,UAAY2D,EAAG1D,SAAW2D,EAAG3D,QAAU0D,EAAGxD,QAAUyD,EAAGzD,UAtI7FhF,KTgkBTD,EAAQ,UShkBCC,OTokBrBhB,EAAUN,SAAS,KAAM,IAAK,IAAK,KAAM,SAAUqB,GAC/C,GAAIC,GAAkBC,EAAcC,EUzkBnBwI,CV2kBjB,QACI7L,SAAU,SAAUuD,GAChBJ,EAAmBI,EAAG,YACvB,SAAUC,GACTJ,EAAeI,EAAE,YAClB,SAAUC,GACTJ,EAAkBI,EAAG,aAEzBhF,QAAS,WACL,YUplBSoN,GAAc,WAK3B,QAAAA,GAAWlH,EAAAC,EAAAC,EAAAC,EAAAC,GVolBC,UAEA1B,GAAgBlF,KAAM0N,GUnlBlC1N,KAAKwG,GAAIA,EACTxG,KAAKyG,KAAAA,EACLzG,KAAK0G,WAAWA,EAChB1G,KAAK2G,SAAQA,EVslBD3G,KAAK4G,MAAQA,EUnlBrB5G,KAAAuF,UACAC,QAAS,IACLC,WACAC,SAAW,IACdC,SAAA,MVmpBG,MUjqBD+H,GAJMC,SAIH,KAAM,OAAE,aAAoB,WAAS,SVwmBvC1I,EAAayI,IACT9H,IAAK,aUtlBjBlD,MAAA,SAAsBmD,EAAMC,GAG/B,MAFG9F,MAAKuF,SAASM,MAAQA,EACtB7F,KAAAuF,SAAYO,SAAAA,EACf9F,QV0lBe4F,IAAK,MUvlBjBlD,MAAA,SAAcqD,GAEjB,MADG/F,MAAAuF,SAAYS,IAAAD,EACf/F,QV2lBe4F,IAAK,QUxlBjBlD,MAAA,SAAauD,GAEhB,MADGjG,MAAAuF,SAAY,SAAAU,EACfjG,QV4lBe4F,IAAK,UUzlBjBlD,MAAA,SAAgBwD,GAEnB,MADGlG,MAAAuF,SAAYW,EACflG,QV6lBe4F,IAAK,QU1lBjBlD,MAAA,SAAcyD,GAEjB,MADGnG,MAAAuF,SAAYa,MAAAD,EACfnG,QV8lBe4F,IAAK,QU3lBjBlD,MAAA,SAAc2D,GAEjB,MADGrG,MAAAuF,SAAYe,MAAAD,EACfrG,QV+lBe4F,IAAK,iBU5lBjBlD,MAAA,SAAwB6D,GAE3B,MADGvG,MAAAuF,SAAYC,QAAA,IAAAe,EACfvG,QVgmBe4F,IAAK,YU7lBjBlD,MAAA,SAAcgD,EAAkBC,GAGnC,MAFG3F,MAAKuF,SAASE,UAAUC,SAAWA,EACnC1F,KAAAuF,SAAYE,UAAAE,SAAAA,EACf3F,QVimBe4F,IAAK,MU7lBjBlD,MAAA,WACH,MAAA,IAAAsC,GAAAhF,KAAAuF,SAAAvF,KAAAwG,GAAAxG,KAAAyG,KAAAzG,KAAA0G,WAAA1G,KAAA2G,SAAA3G,KAAA4G,WVkmBkB8G,KAGX3I,EAAQ,UAAW2I,OAI/B1J,EAAUN,SAAS,KAAM,IAAK,IAAK,IAAK,KAAM,SAAUqB,GACpD,YAEA,IAAII,GAAiB+E,EAAStD,EAAOgH,CACrC,QACI/L,SAAU,SAAUwD,GAChBF,EAAkBE,EAAE,YACrB,SAAU+E,GACTF,EAAUE,EAAG,YACd,SAAUyD,GACTjH,EAAQiH,EAAG,YACZ,SAAUC,GACTF,EAAiBE,EAAG,aAExBxN,QAAS,WACLyE,EAAQ,UAAWmF,EAAQvI,OAAO,qBAAsBoM,SAAS,UAAW5I,GAAiB6I,QAAQ,iBAAkBJ,GAAgBK,SAAS,QAASrH,UAKpK,SAASsH,GACRA,EAAQhE,QAAStD","file":"angular-stomp.min.js","sourcesContent":["\"format global\";\n\"globals.angular angular\";\n\"globals.Stomp stompjs\";\n\n!function(e){function r(e,r,o){return 4===arguments.length?t.apply(this,arguments):void n(e,{declarative:!0,deps:r,declare:o})}function t(e,r,t,o){n(e,{declarative:!1,deps:r,executingRequire:t,execute:o})}function n(e,r){r.name=e,e in p||(p[e]=r),r.normalizedDeps=r.deps}function o(e,r){if(r[e.groupIndex]=r[e.groupIndex]||[],-1==v.call(r[e.groupIndex],e)){r[e.groupIndex].push(e);for(var t=0,n=e.normalizedDeps.length;n>t;t++){var a=e.normalizedDeps[t],u=p[a];if(u&&!u.evaluated){var d=e.groupIndex+(u.declarative!=e.declarative);if(void 0===u.groupIndex||u.groupIndex<d){if(void 0!==u.groupIndex&&(r[u.groupIndex].splice(v.call(r[u.groupIndex],u),1),0==r[u.groupIndex].length))throw new TypeError(\"Mixed dependency cycle detected\");u.groupIndex=d}o(u,r)}}}}function a(e){var r=p[e];r.groupIndex=0;var t=[];o(r,t);for(var n=!!r.declarative==t.length%2,a=t.length-1;a>=0;a--){for(var u=t[a],i=0;i<u.length;i++){var s=u[i];n?d(s):l(s)}n=!n}}function u(e){return x[e]||(x[e]={name:e,dependencies:[],exports:{},importers:[]})}function d(r){if(!r.module){var t=r.module=u(r.name),n=r.module.exports,o=r.declare.call(e,function(e,r){if(t.locked=!0,\"object\"==typeof e)for(var o in e)n[o]=e[o];else n[e]=r;for(var a=0,u=t.importers.length;u>a;a++){var d=t.importers[a];if(!d.locked)for(var i=0;i<d.dependencies.length;++i)d.dependencies[i]===t&&d.setters[i](n)}return t.locked=!1,r},r.name);t.setters=o.setters,t.execute=o.execute;for(var a=0,i=r.normalizedDeps.length;i>a;a++){var l,s=r.normalizedDeps[a],c=p[s],v=x[s];v?l=v.exports:c&&!c.declarative?l=c.esModule:c?(d(c),v=c.module,l=v.exports):l=f(s),v&&v.importers?(v.importers.push(t),t.dependencies.push(v)):t.dependencies.push(null),t.setters[a]&&t.setters[a](l)}}}function i(e){var r,t=p[e];if(t)t.declarative?c(e,[]):t.evaluated||l(t),r=t.module.exports;else if(r=f(e),!r)throw new Error(\"Unable to load dependency \"+e+\".\");return(!t||t.declarative)&&r&&r.__useDefault?r[\"default\"]:r}function l(r){if(!r.module){var t={},n=r.module={exports:t,id:r.name};if(!r.executingRequire)for(var o=0,a=r.normalizedDeps.length;a>o;o++){var u=r.normalizedDeps[o],d=p[u];d&&l(d)}r.evaluated=!0;var c=r.execute.call(e,function(e){for(var t=0,n=r.deps.length;n>t;t++)if(r.deps[t]==e)return i(r.normalizedDeps[t]);throw new TypeError(\"Module \"+e+\" not declared as a dependency.\")},t,n);c&&(n.exports=c),t=n.exports,t&&t.__esModule?r.esModule=t:r.esModule=s(t)}}function s(r){if(r===e)return r;var t={};if(\"object\"==typeof r||\"function\"==typeof r)if(g){var n;for(var o in r)(n=Object.getOwnPropertyDescriptor(r,o))&&h(t,o,n)}else{var a=r&&r.hasOwnProperty;for(var o in r)(!a||r.hasOwnProperty(o))&&(t[o]=r[o])}return t[\"default\"]=r,h(t,\"__useDefault\",{value:!0}),t}function c(r,t){var n=p[r];if(n&&!n.evaluated&&n.declarative){t.push(r);for(var o=0,a=n.normalizedDeps.length;a>o;o++){var u=n.normalizedDeps[o];-1==v.call(t,u)&&(p[u]?c(u,t):f(u))}n.evaluated||(n.evaluated=!0,n.module.execute.call(e))}}function f(e){if(D[e])return D[e];if(\"@node/\"==e.substr(0,6))return y(e.substr(6));var r=p[e];if(!r)throw\"Module \"+e+\" not present.\";return a(e),c(e,[]),p[e]=void 0,r.declarative&&h(r.module.exports,\"__esModule\",{value:!0}),D[e]=r.declarative?r.module.exports:r.esModule}var p={},v=Array.prototype.indexOf||function(e){for(var r=0,t=this.length;t>r;r++)if(this[r]===e)return r;return-1},g=!0;try{Object.getOwnPropertyDescriptor({a:0},\"a\")}catch(m){g=!1}var h;!function(){try{Object.defineProperty({},\"a\",{})&&(h=Object.defineProperty)}catch(e){h=function(e,r,t){try{e[r]=t.value||t.get.call(e)}catch(n){}}}}();var x={},y=\"undefined\"!=typeof System&&System._nodeRequire||\"undefined\"!=typeof require&&require.resolve&&\"undefined\"!=typeof process&&require,D={\"@empty\":{}};return function(e,n,o){return function(a){a(function(a){for(var u={_nodeRequire:y,register:r,registerDynamic:t,get:f,set:function(e,r){D[e]=r},newModule:function(e){return e}},d=0;d<n.length;d++)(function(e,r){r&&r.__esModule?D[e]=r:D[e]=s(r)})(n[d],arguments[d]);o(u);var i=f(e[0]);if(e.length>1)for(var d=1;d<e.length;d++)f(e[d]);return i.__useDefault?i[\"default\"]:i})}}}(\"undefined\"!=typeof self?self:global)\n\n([\"1\"], [\"b\",\"d\"], function($__System) {\n\n!function(){var t=$__System;if(\"undefined\"!=typeof window&&\"undefined\"!=typeof document&&window.location)var s=location.protocol+\"//\"+location.hostname+(location.port?\":\"+location.port:\"\");t.set(\"@@cjs-helpers\",t.newModule({getPathVars:function(t){var n,o=t.lastIndexOf(\"!\");n=-1!=o?t.substr(0,o):t;var e=n.split(\"/\");return e.pop(),e=e.join(\"/\"),\"file:///\"==n.substr(0,8)?(n=n.substr(7),e=e.substr(7),isWindows&&(n=n.substr(1),e=e.substr(1))):s&&n.substr(0,s.length)===s&&(n=n.substr(s.length),e=e.substr(s.length)),{filename:n,dirname:e}}}))}();\n$__System.register(\"2\", [\"3\", \"4\", \"5\"], function (_export) {\n    var ngStompWebSocket, _createClass, _classCallCheck, ngstompProvider;\n\n    return {\n        setters: [function (_3) {\n            ngStompWebSocket = _3[\"default\"];\n        }, function (_) {\n            _createClass = _[\"default\"];\n        }, function (_2) {\n            _classCallCheck = _2[\"default\"];\n        }],\n        execute: function () {\n            \"use strict\";\n\n            ngstompProvider = (function () {\n                function ngstompProvider() {\n                    _classCallCheck(this, ngstompProvider);\n\n                    this.settings = {\n                        timeOut: 5000,\n                        heartbeat: {\n                            outgoing: 10000,\n                            incoming: 10000\n                        }\n                    };\n                }\n\n                _createClass(ngstompProvider, [{\n                    key: \"credential\",\n                    value: function credential(login, password) {\n                        this.settings.login = login;\n                        this.settings.password = password;\n                        return this;\n                    }\n                }, {\n                    key: \"url\",\n                    value: function url(_url) {\n                        this.settings.url = _url;\n                        return this;\n                    }\n                }, {\n                    key: \"class\",\n                    value: function _class(clazz) {\n                        this.settings[\"class\"] = clazz;\n                        return this;\n                    }\n                }, {\n                    key: \"setting\",\n                    value: function setting(settingsObject) {\n                        this.settings = settingsObject;\n                        return this;\n                    }\n                }, {\n                    key: \"debug\",\n                    value: function debug(boolean) {\n                        this.settings.debug = boolean;\n                        return this;\n                    }\n                }, {\n                    key: \"vhost\",\n                    value: function vhost(host) {\n                        this.settings.vhost = host;\n                        return this;\n                    }\n                }, {\n                    key: \"reconnectAfter\",\n                    value: function reconnectAfter(numberInSeconds) {\n                        this.settings.timeOut = numberInSeconds * 1000;\n                        return this;\n                    }\n                }, {\n                    key: \"heartbeat\",\n                    value: function heartbeat(outgoing, incoming) {\n                        this.settings.heartbeat.outgoing = outgoing;\n                        this.settings.heartbeat.incoming = incoming;\n                        return this;\n                    }\n                }, {\n                    key: \"$get\",\n                    value: [\"$q\", \"$log\", \"$rootScope\", \"$timeout\", \"Stomp\", function $get($q, $log, $rootScope, $timeout, Stomp) {\n                        \"ngInject\";\n                        return new ngStompWebSocket(this.settings, $q, $log, $rootScope, $timeout, Stomp);\n                    }]\n                }]);\n\n                return ngstompProvider;\n            })();\n\n            _export(\"default\", ngstompProvider);\n        }\n    };\n});\n$__System.registerDynamic(\"6\", [], true, function($__require, exports, module) {\n  ;\n  var global = this,\n      __define = global.define;\n  global.define = undefined;\n  var $Object = Object;\n  module.exports = {\n    create: $Object.create,\n    getProto: $Object.getPrototypeOf,\n    isEnum: {}.propertyIsEnumerable,\n    getDesc: $Object.getOwnPropertyDescriptor,\n    setDesc: $Object.defineProperty,\n    setDescs: $Object.defineProperties,\n    getKeys: $Object.keys,\n    getNames: $Object.getOwnPropertyNames,\n    getSymbols: $Object.getOwnPropertySymbols,\n    each: [].forEach\n  };\n  global.define = __define;\n  return module.exports;\n});\n\n$__System.registerDynamic(\"7\", [\"6\"], true, function($__require, exports, module) {\n  ;\n  var global = this,\n      __define = global.define;\n  global.define = undefined;\n  var $ = $__require('6');\n  module.exports = function defineProperty(it, key, desc) {\n    return $.setDesc(it, key, desc);\n  };\n  global.define = __define;\n  return module.exports;\n});\n\n$__System.registerDynamic(\"8\", [\"7\"], true, function($__require, exports, module) {\n  ;\n  var global = this,\n      __define = global.define;\n  global.define = undefined;\n  module.exports = {\n    \"default\": $__require('7'),\n    __esModule: true\n  };\n  global.define = __define;\n  return module.exports;\n});\n\n$__System.registerDynamic(\"4\", [\"8\"], true, function($__require, exports, module) {\n  \"use strict\";\n  ;\n  var global = this,\n      __define = global.define;\n  global.define = undefined;\n  var _Object$defineProperty = $__require('8')[\"default\"];\n  exports[\"default\"] = (function() {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor)\n          descriptor.writable = true;\n        _Object$defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n    return function(Constructor, protoProps, staticProps) {\n      if (protoProps)\n        defineProperties(Constructor.prototype, protoProps);\n      if (staticProps)\n        defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  })();\n  exports.__esModule = true;\n  global.define = __define;\n  return module.exports;\n});\n\n$__System.registerDynamic(\"5\", [], true, function($__require, exports, module) {\n  \"use strict\";\n  ;\n  var global = this,\n      __define = global.define;\n  global.define = undefined;\n  exports[\"default\"] = function(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n  exports.__esModule = true;\n  global.define = __define;\n  return module.exports;\n});\n\n$__System.register(\"9\", [\"4\", \"5\"], function (_export) {\n    var _createClass, _classCallCheck, Unsubscriber;\n\n    return {\n        setters: [function (_) {\n            _createClass = _[\"default\"];\n        }, function (_2) {\n            _classCallCheck = _2[\"default\"];\n        }],\n        execute: function () {\n            /**\n             * Created by kevin on 10/01/2016.\n             */\n\n            \"use strict\";\n\n            Unsubscriber = (function () {\n                function Unsubscriber(ngStomp, connections) {\n                    _classCallCheck(this, Unsubscriber);\n\n                    this.ngStomp = ngStomp;\n                    this.connections = connections;\n                }\n\n                _createClass(Unsubscriber, [{\n                    key: \"unSubscribeAll\",\n                    value: function unSubscribeAll() {\n                        var _this = this;\n\n                        this.connections.forEach(function (c) {\n                            return _this.$$unSubscribeOf(c);\n                        });\n                        this.connections = [];\n                    }\n                }, {\n                    key: \"unSubscribeOf\",\n                    value: function unSubscribeOf(topic) {\n                        var _this2 = this;\n\n                        this.connections.filter(function (c) {\n                            return c.topic === topic || c.queue === topic;\n                        }).forEach(function (c) {\n                            return _this2.$$unSubscribeOf(c);\n                        });\n\n                        this.connections = this.connections.filter(function (c) {\n                            return !(c.queue === topic || c.topic === topic);\n                        });\n                    }\n                }, {\n                    key: \"unSubscribeNth\",\n                    value: function unSubscribeNth(index) {\n                        var _this3 = this;\n\n                        this.connections.filter(function (c) {\n                            return c.index === index;\n                        }).forEach(function (c) {\n                            return _this3.$$unSubscribeOf(c);\n                        });\n\n                        this.connections = this.connections.filter(function (c) {\n                            return c.index !== index;\n                        });\n                    }\n                }, {\n                    key: \"$$unSubscribeOf\",\n                    value: function $$unSubscribeOf(c) {\n                        this.ngStomp.$$unSubscribeOf({ queue: c.topic, callback: c.callback, header: c.headers, scope: c.scope });\n                    }\n                }]);\n\n                return Unsubscriber;\n            })();\n\n            _export(\"default\", Unsubscriber);\n        }\n    };\n});\n$__System.register('a', ['4', '5', '9', 'b'], function (_export) {\n    var _createClass, _classCallCheck, UnSubscriber, angular, SubscribeBuilder;\n\n    return {\n        setters: [function (_) {\n            _createClass = _['default'];\n        }, function (_2) {\n            _classCallCheck = _2['default'];\n        }, function (_3) {\n            UnSubscriber = _3['default'];\n        }, function (_b) {\n            angular = _b['default'];\n        }],\n        execute: function () {\n            /**\n             * Created by kevin on 14/12/2015.\n             */\n            'use strict';\n\n            SubscribeBuilder = (function () {\n\n                /*@ngNoInject*/\n\n                function SubscribeBuilder(ngStomp, topic) {\n                    _classCallCheck(this, SubscribeBuilder);\n\n                    this.ngStomp = ngStomp;\n                    this.connections = [];\n\n                    this.subscribeTo(topic);\n                }\n\n                _createClass(SubscribeBuilder, [{\n                    key: 'callback',\n                    value: function callback(aCallback) {\n                        this.aCallback = aCallback;\n                        return this;\n                    }\n                }, {\n                    key: 'withHeaders',\n                    value: function withHeaders(headers) {\n                        this.headers = headers;\n                        return this;\n                    }\n                }, {\n                    key: 'bindTo',\n                    value: function bindTo(aScope) {\n                        this.scope = aScope;\n                        return this;\n                    }\n                }, {\n                    key: 'withBodyInJson',\n                    value: function withBodyInJson() {\n                        this.json = true;\n                        return this;\n                    }\n                }, {\n                    key: 'build',\n                    value: function build() {\n                        return this.connect();\n                    }\n                }, {\n                    key: 'subscribeTo',\n                    value: function subscribeTo(topic) {\n                        this.topic = topic;\n                        this.aCallback = angular.noop;\n                        this.headers = {};\n                        this.scope = {};\n                        this.json = false;\n\n                        return this;\n                    }\n                }, {\n                    key: 'connect',\n                    value: function connect() {\n                        var _this = this;\n\n                        this.and();\n                        this.connections.forEach(function (c) {\n                            return _this.ngStomp.subscribe(c.topic, c.callback, c.headers, c.scope, c.json);\n                        });\n                        return new UnSubscriber(this.ngStomp, this.connections);\n                    }\n                }, {\n                    key: 'and',\n                    value: function and() {\n                        this.connections.push({ topic: this.topic, callback: this.aCallback, headers: this.headers, scope: this.scope, json: this.json, index: this.connections.length + 1 });\n                        return this;\n                    }\n                }]);\n\n                return SubscribeBuilder;\n            })();\n\n            _export('default', SubscribeBuilder);\n        }\n    };\n});\n$__System.register('3', ['4', '5', 'a', 'b'], function (_export) {\n    var _createClass, _classCallCheck, SubscribeBuilder, angular, ngStompWebSocket;\n\n    return {\n        setters: [function (_) {\n            _createClass = _['default'];\n        }, function (_2) {\n            _classCallCheck = _2['default'];\n        }, function (_a) {\n            SubscribeBuilder = _a['default'];\n        }, function (_b) {\n            angular = _b['default'];\n        }],\n        execute: function () {\n            /**\n             * Created by kevin on 14/12/2015.\n             */\n            'use strict';\n\n            ngStompWebSocket = (function () {\n\n                /*@ngNoInject*/\n\n                function ngStompWebSocket(settings, $q, $log, $rootScope, $timeout, Stomp) {\n                    _classCallCheck(this, ngStompWebSocket);\n\n                    this.settings = settings;\n                    this.$q = $q;\n                    this.$rootScope = $rootScope;\n                    this.$log = $log;\n                    this.Stomp = Stomp;\n                    this.$timeout = $timeout;\n                    this.connections = [];\n\n                    this.connect();\n                }\n\n                _createClass(ngStompWebSocket, [{\n                    key: 'connect',\n                    value: function connect() {\n                        var _this = this;\n\n                        this.$setConnection();\n                        this.stompClient.connect(this.settings.login, this.settings.password, function () {\n                            _this.deferred.resolve();\n                            _this.$digestStompAction();\n                        }, function () {\n                            _this.settings.timeOut >= 0 && _this.$timeout(function () {\n                                _this.connect();\n                                _this.$reconnectAll();\n                            }, _this.settings.timeOut);\n                        }, this.settings.vhost);\n                        return this.promiseResult;\n                    }\n                }, {\n                    key: 'subscribe',\n                    value: function subscribe(url, callback, header, scope) {\n                        if (header === undefined) header = {};\n\n                        var _this2 = this;\n\n                        var bodyInJson = arguments.length <= 4 || arguments[4] === undefined ? false : arguments[4];\n\n                        this.promiseResult.then(function () {\n                            _this2.$stompSubscribe(url, callback, header, scope, bodyInJson);\n                        });\n                        return this;\n                    }\n                }, {\n                    key: 'subscribeTo',\n                    value: function subscribeTo(topic) {\n                        return new SubscribeBuilder(this, topic);\n                    }\n\n                    /* Deprecated */\n                }, {\n                    key: 'unsubscribe',\n                    value: function unsubscribe(url) {\n                        var _this3 = this;\n\n                        this.promiseResult.then(function () {\n                            return _this3.$stompUnSubscribe(url);\n                        });\n                        return this;\n                    }\n                }, {\n                    key: 'send',\n                    value: function send(queue, data) {\n                        var _this4 = this;\n\n                        var header = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n                        var sendDeffered = this.$q.defer();\n\n                        this.promiseResult.then(function () {\n                            _this4.stompClient.send(queue, header, JSON.stringify(data));\n                            sendDeffered.resolve();\n                        });\n\n                        return sendDeffered.promise;\n                    }\n                }, {\n                    key: 'disconnect',\n                    value: function disconnect() {\n                        var _this5 = this;\n\n                        var disconnectionPromise = this.$q.defer();\n                        this.stompClient.disconnect(function () {\n                            disconnectionPromise.resolve();\n                            _this5.$digestStompAction();\n                        });\n\n                        return disconnectionPromise.promise;\n                    }\n                }, {\n                    key: '$stompSubscribe',\n                    value: function $stompSubscribe(queue, callback, header, scope, bodyInJson) {\n                        var _this6 = this;\n\n                        var subscription = this.stompClient.subscribe(queue, function (message) {\n                            if (bodyInJson) message.body = JSON.parse(message.body);\n                            callback(message);\n                            _this6.$digestStompAction();\n                        }, header);\n\n                        var connection = { queue: queue, sub: subscription, callback: callback, header: header, scope: scope, json: bodyInJson };\n                        this.$$addToConnectionQueue(connection);\n                        this.$unRegisterScopeOnDestroy(connection);\n                    }\n                }, {\n                    key: '$stompUnSubscribe',\n                    value: function $stompUnSubscribe(queue) {\n                        this.connections.filter(function (c) {\n                            return c.queue === queue;\n                        }).forEach(function (c) {\n                            return c.sub.unsubscribe();\n                        });\n\n                        this.connections = this.connections.filter(function (c) {\n                            return c.queue != queue;\n                        });\n                    }\n                }, {\n                    key: '$digestStompAction',\n                    value: function $digestStompAction() {\n                        !this.$rootScope.$$phase && this.$rootScope.$apply();\n                    }\n                }, {\n                    key: '$setConnection',\n                    value: function $setConnection() {\n                        this.stompClient = this.settings['class'] ? this.Stomp.over(new this.settings['class'](this.settings.url)) : this.Stomp.client(this.settings.url);\n                        this.stompClient.debug = this.settings.debug ? this.$log.debug : angular.noop;\n                        if (angular.isDefined(this.settings.heartbeat)) {\n                            this.stompClient.heartbeat.outgoing = this.settings.heartbeat.outgoing;\n                            this.stompClient.heartbeat.incoming = this.settings.heartbeat.incoming;\n                        }\n                        this.deferred = this.$q.defer();\n                        this.promiseResult = this.deferred.promise;\n                    }\n                }, {\n                    key: '$unRegisterScopeOnDestroy',\n                    value: function $unRegisterScopeOnDestroy(connection) {\n                        var _this7 = this;\n\n                        if (connection.scope !== undefined && angular.isFunction(connection.scope.$on)) connection.scope.$on('$destroy', function () {\n                            return _this7.$$unSubscribeOf(connection);\n                        });\n                    }\n                }, {\n                    key: '$reconnectAll',\n                    value: function $reconnectAll() {\n                        var _this8 = this;\n\n                        var connections = this.connections;\n                        this.connections = [];\n                        // during subscription each connection will be added to this.connections array again\n                        connections.forEach(function (c) {\n                            return _this8.subscribe(c.queue, c.callback, c.header, c.scope, c.json);\n                        });\n                    }\n                }, {\n                    key: '$$unSubscribeOf',\n                    value: function $$unSubscribeOf(connection) {\n                        var _this9 = this;\n\n                        this.connections.filter(function (c) {\n                            return _this9.$$connectionEquality(c, connection);\n                        }).forEach(function (c) {\n                            return c.sub.unsubscribe();\n                        });\n\n                        this.connections = this.connections.filter(function (c) {\n                            return !_this9.$$connectionEquality(c, connection);\n                        });\n                    }\n                }, {\n                    key: '$$addToConnectionQueue',\n                    value: function $$addToConnectionQueue(connection) {\n                        this.connections.push(connection);\n                    }\n                }, {\n                    key: '$$connectionEquality',\n                    value: function $$connectionEquality(c1, c2) {\n                        return c1.queue === c2.queue && c1.callback === c2.callback && c1.header === c2.header && c1.scope === c2.scope;\n                    }\n                }]);\n\n                return ngStompWebSocket;\n            })();\n\n            _export('default', ngStompWebSocket);\n        }\n    };\n});\n$__System.register(\"c\", [\"3\", \"4\", \"5\"], function (_export) {\n    var ngStompWebSocket, _createClass, _classCallCheck, ngstompService;\n\n    return {\n        setters: [function (_3) {\n            ngStompWebSocket = _3[\"default\"];\n        }, function (_) {\n            _createClass = _[\"default\"];\n        }, function (_2) {\n            _classCallCheck = _2[\"default\"];\n        }],\n        execute: function () {\n            \"use strict\";\n\n            ngstompService = (function () {\n                ngstompService.$inject = [\"$q\", \"$log\", \"$rootScope\", \"$timeout\", \"Stomp\"];\n                function ngstompService($q, $log, $rootScope, $timeout, Stomp) {\n                    \"ngInject\";\n\n                    _classCallCheck(this, ngstompService);\n\n                    this.$q = $q;\n                    this.$log = $log;\n                    this.$rootScope = $rootScope;\n                    this.$timeout = $timeout;\n                    this.Stomp = Stomp;\n\n                    this.settings = {\n                        timeOut: 5000,\n                        heartbeat: {\n                            outgoing: 10000,\n                            incoming: 10000\n                        }\n                    };\n                }\n\n                _createClass(ngstompService, [{\n                    key: \"credential\",\n                    value: function credential(login, password) {\n                        this.settings.login = login;\n                        this.settings.password = password;\n                        return this;\n                    }\n                }, {\n                    key: \"url\",\n                    value: function url(_url) {\n                        this.settings.url = _url;\n                        return this;\n                    }\n                }, {\n                    key: \"class\",\n                    value: function _class(clazz) {\n                        this.settings[\"class\"] = clazz;\n                        return this;\n                    }\n                }, {\n                    key: \"setting\",\n                    value: function setting(settingsObject) {\n                        this.settings = settingsObject;\n                        return this;\n                    }\n                }, {\n                    key: \"debug\",\n                    value: function debug(boolean) {\n                        this.settings.debug = boolean;\n                        return this;\n                    }\n                }, {\n                    key: \"vhost\",\n                    value: function vhost(host) {\n                        this.settings.vhost = host;\n                        return this;\n                    }\n                }, {\n                    key: \"reconnectAfter\",\n                    value: function reconnectAfter(numberInSeconds) {\n                        this.settings.timeOut = numberInSeconds * 1000;\n                        return this;\n                    }\n                }, {\n                    key: \"heartbeat\",\n                    value: function heartbeat(outgoing, incoming) {\n                        this.settings.heartbeat.outgoing = outgoing;\n                        this.settings.heartbeat.incoming = incoming;\n                        return this;\n                    }\n                }, {\n                    key: \"get\",\n                    value: function get() {\n                        return new ngStompWebSocket(this.settings, this.$q, this.$log, this.$rootScope, this.$timeout, this.Stomp);\n                    }\n                }]);\n\n                return ngstompService;\n            })();\n\n            _export(\"default\", ngstompService);\n        }\n    };\n});\n$__System.register('1', ['2', 'b', 'd', 'c'], function (_export) {\n    'use strict';\n\n    var ngstompProvider, angular, Stomp, ngStompService;\n    return {\n        setters: [function (_) {\n            ngstompProvider = _['default'];\n        }, function (_b) {\n            angular = _b['default'];\n        }, function (_d) {\n            Stomp = _d['default'];\n        }, function (_c) {\n            ngStompService = _c['default'];\n        }],\n        execute: function () {\n            _export('default', angular.module('AngularStompDK', []).provider('ngstomp', ngstompProvider).service('ngStompService', ngStompService).constant('Stomp', Stomp));\n        }\n    };\n});\n})\n(function(factory) {\n  factory(angular, Stomp);\n});\n","import ngStompWebSocket from './service';\n\nexport default class ngstompProvider {\n\n    constructor() {\n        this.settings = {\n            timeOut : 5000,\n            heartbeat : {\n                outgoing : 10000,\n                incoming : 10000\n            }\n        };\n    }\n\n    credential(login, password) {\n        this.settings.login = login;\n        this.settings.password = password;\n        return this;\n    }\n\n    url(url) {\n        this.settings.url = url;\n        return this;\n    }\n\n    class(clazz) {\n        this.settings.class = clazz;\n        return this;\n    }\n\n    setting(settingsObject) {\n        this.settings = settingsObject;\n        return this;\n    }\n\n    debug(boolean) {\n        this.settings.debug = boolean;\n        return this;\n    }\n\n    vhost(host) {\n        this.settings.vhost = host;\n        return this;\n    }\n\n    reconnectAfter(numberInSeconds) {\n        this.settings.timeOut = numberInSeconds * 1000;\n        return this;\n    }\n\n    heartbeat(outgoing, incoming) {\n        this.settings.heartbeat.outgoing = outgoing;\n        this.settings.heartbeat.incoming = incoming;\n        return this;\n    }\n\n\n    $get($q, $log, $rootScope, $timeout, Stomp) {\n        \"ngInject\";\n        return new ngStompWebSocket(this.settings, $q, $log, $rootScope, $timeout, Stomp);\n    }\n}\n\n\n","/* */ \nvar $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};","/* */ \nvar $ = require('../../modules/$');\nmodule.exports = function defineProperty(it, key, desc) {\n  return $.setDesc(it, key, desc);\n};\n","/* */ \nmodule.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","/* */ \n\"use strict\";\nvar _Object$defineProperty = require('../core-js/object/define-property')[\"default\"];\nexports[\"default\"] = (function() {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor)\n        descriptor.writable = true;\n      _Object$defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function(Constructor, protoProps, staticProps) {\n    if (protoProps)\n      defineProperties(Constructor.prototype, protoProps);\n    if (staticProps)\n      defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n})();\nexports.__esModule = true;\n","/* */ \n\"use strict\";\n\nexports[\"default\"] = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nexports.__esModule = true;","/**\n * Created by kevin on 10/01/2016.\n */\n\nexport default class Unsubscriber {\n\n    constructor(ngStomp, connections) {\n        this.ngStomp = ngStomp;\n        this.connections = connections;\n    }\n\n    unSubscribeAll() {\n        this.connections.forEach(c => this.$$unSubscribeOf(c));\n        this.connections = [];\n    }\n\n    unSubscribeOf(topic) {\n        this.connections\n            .filter(c => c.topic === topic || c.queue === topic)\n            .forEach(c => this.$$unSubscribeOf(c));\n\n        this.connections = this.connections.filter(c => (!(c.queue === topic || c.topic === topic)));\n    }\n\n    unSubscribeNth(index) {\n        this.connections\n            .filter(c => c.index === index)\n            .forEach(c => this.$$unSubscribeOf(c));\n\n        this.connections = this.connections.filter(c => c.index !== index);\n    }\n\n    $$unSubscribeOf(c) {\n        this.ngStomp.$$unSubscribeOf({ queue: c.topic, callback: c.callback, header: c.headers, scope: c.scope});\n    }\n\n}","/**\n * Created by kevin on 14/12/2015.\n */\nimport UnSubscriber from './unSubscriber';\nimport angular from 'angular';\n\nexport default class SubscribeBuilder {\n\n    /*@ngNoInject*/\n    constructor(ngStomp, topic) {\n        this.ngStomp = ngStomp;\n        this.connections = [];\n\n        this.subscribeTo(topic);\n    }\n\n    callback(aCallback) {\n        this.aCallback = aCallback;\n        return this;\n    }\n\n    withHeaders(headers) {\n        this.headers = headers;\n        return this;\n    }\n\n    bindTo(aScope) {\n        this.scope = aScope;\n        return this;\n    }\n\n    withBodyInJson() {\n        this.json = true;\n        return this;\n    }\n\n    build() {\n        return this.connect();\n    }\n\n    subscribeTo(topic) {\n        this.topic = topic;\n        this.aCallback = angular.noop;\n        this.headers = {};\n        this.scope = {};\n        this.json = false;\n\n        return this;\n    }\n\n    connect() {\n        this.and();\n        this.connections.forEach(c => this.ngStomp.subscribe(c.topic, c.callback, c.headers, c.scope, c.json));\n        return new UnSubscriber(this.ngStomp, this.connections);\n    }\n\n    and() {\n        this.connections.push({topic : this.topic, callback : this.aCallback, headers : this.headers, scope : this.scope, json : this.json, index : this.connections.length+1});\n        return this;\n    }\n}","/**\n * Created by kevin on 14/12/2015.\n */\nimport SubscribeBuilder from './builder';\nimport angular from 'angular';\n\nexport default class ngStompWebSocket {\n\n    /*@ngNoInject*/\n    constructor(settings, $q, $log, $rootScope, $timeout, Stomp) {\n        this.settings = settings;\n        this.$q = $q;\n        this.$rootScope = $rootScope;\n        this.$log = $log;\n        this.Stomp = Stomp;\n        this.$timeout = $timeout;\n        this.connections = [];\n\n        this.connect();\n    }\n\n    connect() {\n        this.$setConnection();\n        this.stompClient.connect(\n            this.settings.login,\n            this.settings.password,\n            () => {\n                this.deferred.resolve();\n                this.$digestStompAction();\n            },\n            () => {\n                this.settings.timeOut >= 0 && this.$timeout(() => {\n                    this.connect();\n                    this.$reconnectAll();\n                }, this.settings.timeOut);\n            },\n            this.settings.vhost\n        );\n        return this.promiseResult;\n    }\n\n    subscribe(url, callback, header = {}, scope, bodyInJson = false) {\n        this.promiseResult.then(() => {\n            this.$stompSubscribe(url, callback, header, scope, bodyInJson);\n        });\n        return this;\n    }\n\n    subscribeTo(topic) {\n        return new SubscribeBuilder(this, topic);\n    }\n\n    /* Deprecated */\n    unsubscribe(url) {\n        this.promiseResult.then(() => this.$stompUnSubscribe(url));\n        return this;\n    }\n\n    send(queue, data, header = {}) {\n        let sendDeffered = this.$q.defer();\n\n        this.promiseResult.then(() => {\n            this.stompClient.send(queue, header, JSON.stringify(data));\n            sendDeffered.resolve();\n        });\n\n        return sendDeffered.promise;\n    }\n\n    disconnect() {\n        let disconnectionPromise = this.$q.defer();\n        this.stompClient.disconnect(() => {\n            disconnectionPromise.resolve();\n            this.$digestStompAction();\n        });\n\n        return disconnectionPromise.promise;\n    }\n\n    $stompSubscribe(queue, callback, header, scope, bodyInJson) {\n        let subscription = this.stompClient.subscribe(queue, (message) => {\n            if (bodyInJson)\n                message.body = JSON.parse(message.body);\n            callback(message);\n            this.$digestStompAction();\n        }, header);\n\n        let connection = { queue : queue, sub : subscription, callback : callback, header : header, scope : scope, json : bodyInJson };\n        this.$$addToConnectionQueue(connection);\n        this.$unRegisterScopeOnDestroy(connection);\n    }\n\n    $stompUnSubscribe(queue) {\n        this.connections\n            .filter(c => c.queue === queue)\n            .forEach((c) => c.sub.unsubscribe());\n\n        this.connections = this.connections.filter(c => c.queue != queue);\n    }\n\n    $digestStompAction() {\n        !this.$rootScope.$$phase && this.$rootScope.$apply();\n    }\n\n    $setConnection() {\n        this.stompClient = this.settings.class ? this.Stomp.over(new this.settings.class(this.settings.url)) : this.Stomp.client(this.settings.url);\n        this.stompClient.debug = (this.settings.debug) ? this.$log.debug : angular.noop;\n        if (angular.isDefined(this.settings.heartbeat)) {\n            this.stompClient.heartbeat.outgoing = this.settings.heartbeat.outgoing;\n            this.stompClient.heartbeat.incoming = this.settings.heartbeat.incoming;\n        }\n        this.deferred = this.$q.defer();\n        this.promiseResult = this.deferred.promise;\n    }\n\n    $unRegisterScopeOnDestroy(connection) {\n        if (connection.scope !== undefined && angular.isFunction(connection.scope.$on))\n            connection.scope.$on('$destroy', () => this.$$unSubscribeOf(connection) );\n    }\n\n    $reconnectAll() {\n        let connections = this.connections;\n        this.connections = [];\n        // during subscription each connection will be added to this.connections array again\n        connections.forEach(c => this.subscribe(c.queue, c.callback, c.header, c.scope, c.json));\n    }\n\n    $$unSubscribeOf(connection) {\n        this.connections\n            .filter(c => this.$$connectionEquality(c, connection))\n            .forEach(c => c.sub.unsubscribe());\n\n        this.connections = this.connections.filter(c => !this.$$connectionEquality(c, connection));\n    }\n\n    $$addToConnectionQueue(connection) {\n        this.connections.push(connection);\n    }\n\n    $$connectionEquality(c1, c2) {\n        return c1.queue === c2.queue && c1.callback === c2.callback && c1.header === c2.header && c1.scope === c2.scope;\n    }\n}\n","import ngStompWebSocket from './service';\r\n\r\nexport default class ngstompService {\r\n\r\n\r\n\r\n    constructor($q, $log, $rootScope, $timeout, Stomp) {\r\n        \"ngInject\";\r\n\r\n        this.$q = $q;\r\n        this.$log = $log;\r\n        this.$rootScope = $rootScope;\r\n        this.$timeout = $timeout;\r\n        this.Stomp = Stomp;\r\n\r\n        this.settings = {\r\n            timeOut : 5000,\r\n            heartbeat : {\r\n                outgoing : 10000,\r\n                incoming : 10000\r\n            }\r\n        };\r\n    }\r\n\r\n    credential(login, password) {\r\n        this.settings.login = login;\r\n        this.settings.password = password;\r\n        return this;\r\n    }\r\n\r\n    url(url) {\r\n        this.settings.url = url;\r\n        return this;\r\n    }\r\n\r\n    class(clazz) {\r\n        this.settings.class = clazz;\r\n        return this;\r\n    }\r\n\r\n    setting(settingsObject) {\r\n        this.settings = settingsObject;\r\n        return this;\r\n    }\r\n\r\n    debug(boolean) {\r\n        this.settings.debug = boolean;\r\n        return this;\r\n    }\r\n\r\n    vhost(host) {\r\n        this.settings.vhost = host;\r\n        return this;\r\n    }\r\n\r\n    reconnectAfter(numberInSeconds) {\r\n        this.settings.timeOut = numberInSeconds * 1000;\r\n        return this;\r\n    }\r\n\r\n    heartbeat(outgoing, incoming) {\r\n        this.settings.heartbeat.outgoing = outgoing;\r\n        this.settings.heartbeat.incoming = incoming;\r\n        return this;\r\n    }\r\n\r\n\r\n    get() {\r\n        return new ngStompWebSocket(this.settings, this.$q, this.$log, this.$rootScope, this.$timeout, this.Stomp);\r\n    }\r\n}\r\n\r\n\r\n"],"sourceRoot":"/source/"}